<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Task Queue Design Pattern in Modern C++","image":[""],"dateModified":"2025-12-31T17:27:39.000Z","author":[{"@type":"Person","name":"Dr. Vladimir Petukhov"}]}</script><meta property="og:url" content="https://vperepos.github.io/Blog/task-queue-design-pattern.html"><meta property="og:site_name" content="Dr. Vladimir Petukhov"><meta property="og:title" content="Task Queue Design Pattern in Modern C++"><meta property="og:description" content="Task queue design pattern in modern C++ Code on Github Motivation Imagine, that you have some data that you would like to process, but the way to process it can be combined of a..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2025-12-31T17:27:39.000Z"><meta property="article:tag" content="modern-cpp"><meta property="article:tag" content="task-queue"><meta property="article:tag" content="design-patterns"><meta property="article:tag" content="cpp"><meta property="article:modified_time" content="2025-12-31T17:27:39.000Z"><script async src="https://www.googletagmanager.com/gtag/js?id=G-6HX7S00F14"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6HX7S00F14');</script><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Task Queue Design Pattern in Modern C++ | Dr. Vladimir Petukhov</title><meta name="description" content="Task queue design pattern in modern C++ Code on Github Motivation Imagine, that you have some data that you would like to process, but the way to process it can be combined of a...">
    <link rel="preload" href="/assets/style-CHm-93Be.css" as="style"><link rel="stylesheet" href="/assets/style-CHm-93Be.css">
    <link rel="modulepreload" href="/assets/app-DMvgv8AB.js"><link rel="modulepreload" href="/assets/task-queue-design-pattern.html-Cl-rw3o9.js">
    <link rel="prefetch" href="/assets/index.html-Cj_mW7g9.js" as="script"><link rel="prefetch" href="/assets/cpp-performance-cache-study.html-CwcYnsQG.js" as="script"><link rel="prefetch" href="/assets/java-vector-field-widget.html-DrKA6Tg_.js" as="script"><link rel="prefetch" href="/assets/knowledge_base.html-Cw_kCrAP.js" as="script"><link rel="prefetch" href="/assets/readings.html-CbscqBCV.js" as="script"><link rel="prefetch" href="/assets/index.html-B0LnWRO5.js" as="script"><link rel="prefetch" href="/assets/state-machine-design-pattern.html-D1Sfr5v1.js" as="script"><link rel="prefetch" href="/assets/index.html-CkHS_lVB.js" as="script"><link rel="prefetch" href="/assets/index.html-DqHa4iIA.js" as="script"><link rel="prefetch" href="/assets/index.html-1A67wlet.js" as="script"><link rel="prefetch" href="/assets/404.html-jc_d6_w8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">Dr. Vladimir Petukhov</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Services/" aria-label="Services"><!--[--><!--[--><!--]--><!--]-->Services<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Contact/" aria-label="Contact"><!--[--><!--[--><!--]--><!--]-->Contact<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Resume/" aria-label="CV"><!--[--><!--[--><!--]--><!--]-->CV<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/Blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/vperepos" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Services/" aria-label="Services"><!--[--><!--[--><!--]--><!--]-->Services<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Contact/" aria-label="Contact"><!--[--><!--[--><!--]--><!--]-->Contact<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Resume/" aria-label="CV"><!--[--><!--[--><!--]--><!--]-->CV<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/Blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/vperepos" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/Blog/state-machine-design-pattern.html" aria-label="State Machine Design Pattern in Modern C++"><!--[--><!--[--><!--]--><!--]-->State Machine Design Pattern in Modern C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/Blog/task-queue-design-pattern.html" aria-label="Task Queue Design Pattern in Modern C++"><!--[--><!--[--><!--]--><!--]-->Task Queue Design Pattern in Modern C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/Blog/cpp-performance-cache-study.html" aria-label="C++ Performance Study — Using CPU Cache Properties"><!--[--><!--[--><!--]--><!--]-->C++ Performance Study — Using CPU Cache Properties<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/Blog/java-vector-field-widget.html" aria-label="Vector Field Widget in JavaFX"><!--[--><!--[--><!--]--><!--]-->Vector Field Widget in JavaFX<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/Blog/knowledge_base.html" aria-label="Knowledge Base"><!--[--><!--[--><!--]--><!--]-->Knowledge Base<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/Blog/readings.html" aria-label="Readings"><!--[--><!--[--><!--]--><!--]-->Readings<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="task-queue-design-pattern-in-modern-c" tabindex="-1"><a class="header-anchor" href="#task-queue-design-pattern-in-modern-c"><span>Task queue design pattern in modern C++</span></a></h1><p><a href="https://github.com/VPERepos/TaskQueueDesignPattern/tree/main" target="_blank" rel="noopener noreferrer">Code on Github</a></p><h2 id="motivation" tabindex="-1"><a class="header-anchor" href="#motivation"><span>Motivation</span></a></h2><p>Imagine, that you have some data that you would like to process, but the way to process it can be combined of a lot of simple steps, that, in general, can be mixed up with each other, giving different orders of computation. For example, you have many images and it is necessary to process them and get some information out of them. You have also a library that consists of different computer vision algorithms, but you still don&#39;t know which is the most optimal way to apply those algorithms. Developing the procedure is time consuming due to checking many combinations and tuning parameters of algorithms. It is also very helpfull to be able to control the results after each step. My solution would be to program a tool with user interface, that lists in one window all possible steps, which can be chosen and added to the next window describing the resulting procedure. This is exactly the case, where a task queue design pattern can be applied. The steps from the resulting procedure are put into a task queue and then processed one after another. The example in this project is much simpler and somehow abstract, because it is made just to represent the idea.</p><h2 id="classes-structure-and-functionality" tabindex="-1"><a class="header-anchor" href="#classes-structure-and-functionality"><span>Classes structure and functionality</span></a></h2><p><img src="/assets/ClassDiagramQueue-DrIM2oER.svg" alt="UMLDiagram"></p><p>UML-diagram above represents a design of the example program. There is a class called TaskQueue, which consists of shared pointers to the objects of classes Data, Status and Task1 to Task4. The shared pointers of types Status and Data are passed by reference to the parameters of the constructor of the TaskQueue class. The objects of Task1 to Task4 types are allocated on heap in this constructor. During initialization of tasks, they are given unique names, which are contained in a sorted order in a vector. There is also a map with names as keys and pointers as values. This is needed in order to be able to clear and fill out the main queue in the necessary way from outside in the consumer function. Objects of types Data, Status and TaskQueue are allocated on heap in the main function. Objects of types Task1 to Task4 have a function executeTask(). This function can be powered with any custom business logic that processes an object of the type Data. The loop in the function runTQ() takes the front element of the constructed queue and calls the function executeTask(). Afterwards the front element is deleted from the queue. This proceeds until the queue is empty.</p><p>The principle program flow is described by the following sequence diagram <img src="/assets/SequenceDiagramQueue-C7bXMx8H.svg" alt="UMLDiagram"></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2025-12-31T17:27:39.000Z" data-allow-mismatch>12/31/25, 6:27 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: v.petukhov@mail.de">Vladimir Petukhov</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/Blog/state-machine-design-pattern.html" aria-label="State Machine Design Pattern in Modern C++"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">State Machine Design Pattern in Modern C++</span></div><!--]--></a><a class="route-link auto-link next" href="/Blog/cpp-performance-cache-study.html" aria-label="C++ Performance Study — Using CPU Cache Properties"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">C++ Performance Study — Using CPU Cache Properties</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DMvgv8AB.js" defer></script>
  </body>
</html>
